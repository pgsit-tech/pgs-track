# PGS Tracking System - Cloudflare Workers 配置
# 更新日期: 2025-01-03
# 注意: 这将更新现有的 pgs-tracking-proxy worker，保留现有环境变量

name = "pgs-tracking-proxy"
main = "workers/proxy.js"
compatibility_date = "2024-01-01"
compatibility_flags = ["nodejs_compat"]

# 环境变量（这些将与现有环境变量合并，不会覆盖）
[vars]
ENVIRONMENT = "production"
# 🆕 只使用官网API，简化配置
OFFICIAL_API_URL = "http://cbel.pgs-log.com/edi/pubTracking"
# CORS允许的域名
CORS_ORIGINS = "https://tracking.pgs-cbel.com,https://pgs-track.pages.dev,http://localhost:8080,http://localhost:3000,http://localhost:8000,http://127.0.0.1:8080"
# 管理员Token（用于配置更新）
ADMIN_TOKEN = "admin-token-pgs-2025"

# KV存储绑定（统一使用正确的生产环境KV）
[[kv_namespaces]]
binding = "CONFIG_KV"
id = "c1e7e2d1abff4140970ffa1c7c98cf22"
preview_id = "52473858946641dfa808d810a878b221"
