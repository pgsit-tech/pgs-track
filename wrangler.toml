# PGS Tracking System - Cloudflare Workers é…ç½®
# æ›´æ–°æ—¥æœŸ: 2025-01-03
# æ³¨æ„: è¿™å°†æ›´æ–°ç°æœ‰çš„ pgs-tracking-proxy workerï¼Œä¿ç•™ç°æœ‰ç¯å¢ƒå˜é‡

name = "pgs-tracking-proxy"
main = "workers/proxy.js"
compatibility_date = "2024-01-01"
compatibility_flags = ["nodejs_compat"]

# ç¯å¢ƒå˜é‡ï¼ˆè¿™äº›å°†ä¸ç°æœ‰ç¯å¢ƒå˜é‡åˆå¹¶ï¼Œä¸ä¼šè¦†ç›–ï¼‰
[vars]
ENVIRONMENT = "production"
# ğŸ†• åªä½¿ç”¨å®˜ç½‘APIï¼Œç®€åŒ–é…ç½®
OFFICIAL_API_URL = "http://cbel.pgs-log.com/edi/pubTracking"
# CORSå…è®¸çš„åŸŸå
CORS_ORIGINS = "https://pgs-track.pages.dev,http://localhost:8080,http://localhost:3000,http://localhost:8000,http://127.0.0.1:8080"
# ç®¡ç†å‘˜Tokenï¼ˆç”¨äºé…ç½®æ›´æ–°ï¼‰
ADMIN_TOKEN = "admin-token-pgs-2025"

# KVå­˜å‚¨ç»‘å®šï¼ˆä½¿ç”¨ç°æœ‰çš„CONFIG_KVå‘½åç©ºé—´ï¼‰
[[kv_namespaces]]
binding = "CONFIG_KV"
id = "0d7ed4061f384451b7ad84fab059b4d0"
preview_id = "8455f7e44db9486db3dbeb25bede2c74"

# ç”Ÿäº§ç¯å¢ƒé…ç½®
[env.production]
name = "pgs-tracking-proxy"

[env.production.vars]
ENVIRONMENT = "production"
OFFICIAL_API_URL = "http://cbel.pgs-log.com/edi/pubTracking"
CORS_ORIGINS = "https://pgs-track.pages.dev,http://localhost:8080,http://localhost:3000,http://localhost:8000,http://127.0.0.1:8080"
ADMIN_TOKEN = "admin-token-pgs-2025"

# ç”Ÿäº§ç¯å¢ƒKVå­˜å‚¨
[[env.production.kv_namespaces]]
binding = "CONFIG_KV"
id = "c1e7e2d1abff4140970ffa1c7c98cf22"
preview_id = "52473858946641dfa808d810a878b221"
